<div class="panel panel-default uoe-overview-high">
    <div class="panel-heading"><h3>Scheduled Jobs</h3></div>
    <div class="panel-body">

        <div ng-if="$ctrl.loading" class="progress">
            <div class="progress-bar progress-bar-striped active" role="progressbar"
                 aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                Loading
            </div>
        </div>

        <!-- TODO this should be displayed by publisher, this is not informative enough
             maybe name a job with meaningful prefix
             or keep that info somewhere and read it in
             -->
        <div class="table-responsive" ng-if="!$ctrl.loading && $ctrl.jobs.length > 0">
            <table class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                <tr>
                    <th>Job Name</th>
                    <th>Last Run</th>
                    <th>Next Run</th>
                    <th>State</th>
                    <th>Repeat Interval (in sec)</th>
                    <th>Times Executed</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="job in $ctrl.jobs">
                    <td>{{job.jobName}}</td>
                    <td>{{job.prevRun}}</td>
                    <td>{{job.nextRun}}</td>
                    <td>{{job.triggerState}}</td>
                    <td>{{job.repeatInterval/1000}}</td>
                    <td>{{job.timesExecuted}}</td>
                    <td>                        
                    <button type="button" ng-click="$ctrl.editScheduledjobs(job)" class="btn btn-primary">Edit</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


